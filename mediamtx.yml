# mediamtx.yml
# ───────────────────────────────────────────────────────────────────────────────
# (optional) API 활성화
api: yes
apiAddress: :9997

# RTSP 서버/클라이언트 모두 TCP 전용으로 강제 (UDP 패킷 손실 제거)
rtspAddress: :8554
rtspTransports: [tcp]

# HLS 서버 설정 (항상 remux + 고정 길이 세그먼트)
hlsAddress: :8888
hlsAlwaysRemux: yes
hlsSegmentCount: 3              # 최근 3개 세그먼트 유지
hlsSegmentDuration: 1s          # 각 세그먼트 길이 1초

# WebRTC (시그널 HTTP + ICE UDP)
webrtcAddress: :8889

# ───────────────────────────────────────────────────────────────────────────────
paths:
  gremsy:
    source: rtsp://192.168.168.240:554/payload
    sourceOnDemand: false       # on-demand 끄기 → 항상 풀링
